# Create the CONTACT_FILE_DIR directory on the host with ownership 1000:1000 before running docker compose
services:
  folio:
    build:
      context: .
      args:
        USER: ${DOCKER_USER}
        GROUP: ${DOCKER_GROUP}
    security_opt:      
      - no-new-privileges:true    
    cap_drop:
      - ALL
    ports:
      - "127.0.0.1:${PORT}:3000"
    environment:
      - CONTACT_FILE=/app/data/contact.jsonl
    volumes:
      - ${CONTACT_FILE_DIR}:/app/data
